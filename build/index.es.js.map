{"version":3,"file":"index.es.js","sources":["../src/Components/Partials/Page/Section.tsx","../src/Components/Layouts/Page/__GenericLayout.tsx","../src/Components/Templates/Page.tsx","../src/Components/Templates/Content.tsx","../src/Components/TYPO3Page.tsx"],"sourcesContent":["import React from 'react';\n\nconst section: React.FC<{\n    name: string,\n    pageTemplate: any\n}> = props => {\n    if(props.pageTemplate.hasOwnProperty(props.name)) {\n        return props.pageTemplate[props.name];\n    }\n    return <>Template section {props.name} not found</>\n}\n\nexport default section;","import React from \"react\";\nimport {TYPO3PageHeadlessDataInterface} from \"../../Interfaces\";\nimport Section from \"../../Partials/Page/Section\";\n\n\nconst __GenericLayout: React.FC<{headlessData:TYPO3PageHeadlessDataInterface, pageTemplate: any}> = props => {\n\n    const genericSections = Object.keys(props.pageTemplate).map(sectionName => {\n        return <section key={sectionName} className={sectionName}>\n            <Section name={sectionName} pageTemplate={props.pageTemplate} />\n        </section>\n    });\n\n\n    return <>\n        {genericSections}\n    </>\n}\n\nexport default __GenericLayout;","import React from \"react\";\nimport {TYPO3PagePropsInterface} from \"../Interfaces\";\n\n\nconst Page: React.FC<TYPO3PagePropsInterface> = props => {\n    let layout;\n    if(props.pageLayouts.hasOwnProperty(props.headlessData.page.appearance.layout)) {\n        layout = props.pageLayouts[props.headlessData.page.appearance.layout];\n    } else if(props.pageLayouts.hasOwnProperty('__generic')) {\n        layout = props.pageLayouts.__generic;\n    } else {\n        return <>Pagelayout not found: {props.headlessData.page.appearance.layout}</>\n    }\n\n    let pageTemplate;\n    if(props.pageTemplates.hasOwnProperty(props.headlessData.page.appearance.backendLayout)) {\n        pageTemplate = props.pageTemplates[props.headlessData.page.appearance.backendLayout];\n    } else if (props.pageTemplates.hasOwnProperty('__generic')) {\n        pageTemplate = props.pageTemplates.__generic;\n    } else {\n        return <>Pagetemplate not found: {props.headlessData.page.appereance.backendLayout} </>\n    }\n\n\n    return layout(\n        props.headlessData,\n        pageTemplate(props.headlessData, props.contentElementLayouts, props.contentElementTemplates),\n    );\n    // return <>Page: {props.config.navigations.navigation1[0].title}</>\n}\n\n\nexport default Page;","import React from \"react\";\n\nconst PREFIX_COLPOS = 'colPos';\n\nconst Content: React.FC<{\n    colPos: string;\n    content: any;\n    contentElementLayouts: any;\n    contentElementTemplates: any;\n}> = props => {\n    let content = <></>\n\n    if(props.content.hasOwnProperty(PREFIX_COLPOS + props.colPos)){\n        content = props.content[PREFIX_COLPOS + props.colPos].map( content => {\n            let layout;\n            if(props.contentElementLayouts.hasOwnProperty(props.content.appearance.layout)) {\n                layout = props.contentElementLayouts[props.content.appearance.layout];\n            } else if(props.contentElementLayouts.hasOwnProperty('__generic')) {\n                layout = props.contentElementLayouts.__generic;\n            } else {\n                return <>Page Layout not found: {props.content.appearance.layout}</>\n            }\n        });\n    }\n\n    //content prüfen, ob da für die angegebene colPos Daten vorhanden sind.\n    //Diese in einer Schleife durchgehen\n    //Dann wie in der Page das CE-Layout und das CE-Template ermitteln\n    //CE-Layout zurückgeben\n\n    return <>{props.colPos}</>\n    // let layout;\n    // if(props.contentElementLayouts.hasOwnProperty(props.contentElementLayouts.page.appearance.layout)) {\n    //     layout = props.pageLayouts[props.headlessData.page.appearance.layout];\n    // } else if(props.pageLayouts.hasOwnProperty('__generic')) {\n    //     layout = props.pageLayouts.__generic;\n    // } else {\n    //     return <>Page Layout not found: {props.headlessData.page.appearance.layout}</>\n    // }\n    //\n    // let pageTemplate;\n    // if(props.pageTemplates.hasOwnProperty(props.headlessData.page.appearance.backendLayout)) {\n    //     pageTemplate = props.pageTemplates[props.headlessData.page.appearance.backendLayout];\n    // } else if (props.pageTemplates.hasOwnProperty('__generic')) {\n    //     pageTemplate = props.pageTemplates.__generic;\n    // } else {\n    //     return <>Page Template not found: {props.headlessData.page.appereance.backendLayout} </>\n    // }\n    //\n    //\n    // return layout(\n    //     props.headlessData,\n    //     pageTemplate(props.headlessData, props.contentElementLayouts, props.contentElementTemplates),\n    // );\n    // return <>Page: {props.config.navigations.navigation1[0].title}</>\n}\n\n\nexport default Content;","import React from \"react\";\nimport __GenericLayout from \"./Layouts/Page/__GenericLayout\";\nimport Page from \"./Templates/Page\";\nimport Content from \"./Templates/Content\";\nimport {TYPO3PagePropsInterface} from \"./Interfaces\";\nimport Section from './Partials/Page/Section';\n\n\nconst pageLayouts = {\n    //TODO: implement example\n    'layout-0': (headlessData, pageTemplate) => <>\n        <header>\n            LOGO\n        </header>\n        <section>\n            <h1>Hier ist ist eine Section</h1>\n            <Section name={'main'} pageTemplate={pageTemplate}/>\n        </section>\n        <footer>\n            <h3>Hier ist eine andere Section</h3>\n            <Section name={'border'} pageTemplate={pageTemplate}/>\n        </footer>\n    </>,\n\n    __generic: (headlessData, pageTemplate) => <>\n        <__GenericLayout\n            headlessData={headlessData}\n            pageTemplate={pageTemplate}\n        />\n    </>\n\n}\n\nconst pageTemplates = {\n    __generic: (headlessData, contentElementLayouts, contentElementTemplates) => {\n        return {\n            main: <div>_generisch</div>\n        }\n    },\n    example: (headlessData, contentElementLayout, contentElementTemplates) => {\n        return {\n            main: <>...example</>\n        }\n    },\n    default: (headlessData, contentElementLayouts, contentElementTemplates) => {\n        return {\n            main: <div> .... </div>,\n            footer: <footer>...</footer>,\n            header: <header>...</header>\n        }\n    },\n    simple: (headlessData, contentElementLayouts, contentElementTemplates) => {\n        return {\n            main: <div>simple</div>,\n            border: <>\n                <Content colPos={'3'} content={headlessData.content} contentElementLayouts={contentElementLayouts}\n                         contentElementTemplates={contentElementTemplates}/>\n            </>,\n        }\n    },\n    '2Columns': (headlessData, contentElementLayouts, contentElementTemplates) => {\n        return {\n            main: <div>2Columns</div>,\n            footer: <footer>...</footer>,\n            header: <header>...</header>\n        }\n    }\n}\n\n\nconst contentElementLayouts = {\n    __generic: (props) => {\n        return <div className={'contentWrapper'}>\n            {props.children}\n        </div>\n    },\n\n}\n\n\nconst contentElementTemplates = {\n    //Resources/Private/Templates/ContentElements/**\n    __generic: (headlessContentData) => <></>,\n    //text: (headlessContentData) => <Text {...headlessContentData} />,\n\n\n}\n\nconst TYPO3Page: React.FC<TYPO3PagePropsInterface> = props => {\n    const _pageLayouts = Object.assign({}, pageLayouts, props.pageLayouts);\n    const _pageTemplates = Object.assign({}, pageTemplates, props.pageTemplates);\n    const _contentElementLayouts = Object.assign({}, contentElementLayouts, props.contentElementLayouts);\n    const _contentElementTemplates = Object.assign({}, contentElementTemplates, props.contentElementTemplates);\n\n    return <Page\n        headlessData={props.headlessData}\n        pageLayouts={_pageLayouts}\n        pageTemplates={_pageTemplates}\n        contentElementLayouts={_contentElementLayouts}\n        contentElementTemplates={_contentElementTemplates}\n    />\n}\nTYPO3Page.defaultProps = {\n    pageLayouts: null,\n    pageTemplates: null,\n    contentElementLayouts: null,\n    contentElementTemplates: null,\n}\n\nexport default TYPO3Page;\nexport {pageLayouts, pageTemplates, contentElementLayouts, contentElementTemplates};\n\n\n\n\n\n\n"],"names":["Section"],"mappings":"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"}